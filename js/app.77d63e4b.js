(function(t){function e(e){for(var n,a,r=e[0],u=e[1],c=e[2],f=0,d=[];f<r.length;f++)a=r[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,r=1;r<s.length;r++){var u=s[r];0!==i[u]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=s[0]))}return t}var n={},i={app:0},o=[];function a(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=n,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/nextpage/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var l=u;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1a9d":function(t,e,s){},"2f98":function(t,e,s){},5036:function(t,e,s){"use strict";var n=s("1a9d"),i=s.n(n);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container container__main"},[s("Navbar"),s("router-view",{attrs:{result:t.modalResult},on:{confirm:t.formOpen}}),t.modal?s("div",{staticClass:"modal"},[s("div",{staticClass:"modal__wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.formClose(e)}}},[s("Modal",{on:{close:t.formClose,confirm:t.confirm}})],1)]):t._e()],1)])},o=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("ul",{staticClass:"container container__main"},[s("li",[s("router-link",{staticClass:"button",attrs:{to:"/"}},[t._v(" Dashboard ")])],1),s("li",[s("router-link",{staticClass:"button",attrs:{to:"/edit/"}},[t._v(" Create ")])],1)])])},r=[],u={},c=u,l=(s("c5f0"),s("2877")),f=Object(l["a"])(c,a,r,!1,null,"5d8805f4",null),d=f.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal__body"},[s("div",{staticClass:"modal__body__title"},[t._v("Confirm action?")]),s("div",{staticClass:"modal__body__content"},[s("button",{staticClass:"button button--success",attrs:{type:"button"},on:{click:t.confirm}},[t._v("Confirm")]),s("button",{staticClass:"button button--error",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")])])])},h=[],_={data:function(){return{}},methods:{close:function(){this.$emit("close")},confirm:function(){this.$emit("confirm")}}},m=_,b=(s("5036"),Object(l["a"])(m,p,h,!1,null,"36da7bc6",null)),v=b.exports,g={data:function(){return{modal:!1,modalResult:null}},components:{Navbar:d,Modal:v},methods:{confirm:function(){this.modalResult=!0,this.formClose()},formOpen:function(){this.modalResult=null,this.modal=!0},formClose:function(){var t=this;this.modal=!1,setTimeout((function(){t.modalResult=null}),0)}},computed:{},mounted:function(){}},y=g,C=(s("cf25"),Object(l["a"])(y,i,o,!1,null,null,null)),k=C.exports,O=s("8c4f"),N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.notes.length?s("div",{staticClass:"dashboard container__main--content"},[s("div",{staticClass:"note__list"},[t._m(0),s("div",{staticClass:"note__list__body"},t._l(t.notes,(function(e){return s("div",{key:e.id,staticClass:"note__list__body__item note"},[s("div",{staticClass:"note__title"},[t._v(" "+t._s(e.title)+" ")]),s("div",{staticClass:"note__tasks"},[s("ul",t._l(e.tasks.filter((function(t,e){return e<3})),(function(e){return s("li",{key:e.id,staticClass:"note__tasks_item task",class:{done:e.status}},[t._v(" "+t._s(e.title)+" ")])})),0)]),s("div",{staticClass:"note__actions"},[s("router-link",{staticClass:"button",attrs:{tag:"button",to:"/edit/"+e.id}},[t._v(" Edit ")]),s("button",{staticClass:"button button--error",attrs:{type:"button"},on:{click:function(s){return s.stopPropagation(),t.sendToDeleteNote(e.id)}}},[t._v("Delete")])],1)])})),0)])]):t._e()},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"note__list__head"},[s("div",{staticClass:"note__list__head__item"},[t._v("Note title")]),s("div",{staticClass:"note__list__head__item"},[t._v("Note tasks")]),s("div",{staticClass:"note__list__head__item"})])}],$={data:function(){return{id:null}},props:{result:Boolean},watch:{result:{handler:function(t){t&&this.deleteNote()}}},computed:{notes:function(){return this.$store.getters.notes}},methods:{sendToDeleteNote:function(t){this.id=t,this.$emit("confirm")},deleteNote:function(){this.$store.dispatch("removeNote",this.id),this.$router.push("/")}}},w=$,j=(s("d881"),Object(l["a"])(w,N,S,!1,null,"a8ff8f6c",null)),T=j.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container container__main--content"},[s("h2",[t._v(t._s(t.noteAction)+" note")]),s("form",{staticClass:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submitEditForm(e)}}},[s("div",{staticClass:"container"},[s("label",{staticClass:"input input--column form__title"},[s("h3",[t._v("Note title")]),s("input",{ref:"title",attrs:{type:"text",placeholder:"Note title"},domProps:{value:this.temp.data[this.temp.step].title},on:{change:function(e){t.buffer.title=e.target.value,t.saveChanges(t.buffer)}}})]),s("div",{staticClass:"todo"},[s("div",{staticClass:"todo__list"},[s("p",{staticClass:"todo__list__title"},[t._v("Tasks")]),this.temp.data[this.temp.step].tasks.length?s("div",[s("transition-group",{attrs:{name:"task"}},t._l(this.temp.data[this.temp.step].tasks,(function(e,n){return s("div",{key:e.id,staticClass:"row todo__list__item task-item"},[s("label",{staticClass:"input input--row todo__list__item__input",class:{"todo__list__item__input--done":e.status}},[s("input",{ref:"taskTitle",refInFor:!0,attrs:{type:"text",placeholder:"Task title"},domProps:{value:e.title},on:{change:function(e){t.buffer.tasks[n].title=e.target.value,t.saveChanges(t.buffer)}}})]),s("label",{staticClass:"input input--row input--row--centered todo__list__item__status"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"task.status"}],class:{done:e.status},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.status)?t._i(e.status,null)>-1:e.status},on:{click:function(s){return t.changeTaskStatus(e.id)},change:function(s){var n=e.status,i=s.target,o=!!i.checked;if(Array.isArray(n)){var a=null,r=t._i(n,a);i.checked?r<0&&t.$set(e,"status",n.concat([a])):r>-1&&t.$set(e,"status",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(e,"status",o)}}}),s("span",{staticClass:"row"})]),s("button",{staticClass:"button todo__list__item__remove",attrs:{type:"button"},on:{click:function(s){return s.stopPropagation(),t.removeTask(e.id)}}})])})),0)],1):s("div",[s("span",{staticClass:"todo__list__tooltip"},[t._v("Task required")])]),s("div",{staticClass:"todo__list__actions"},[s("button",{staticClass:"button todo__list__actions__button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.addTask(e)}}},[t._v("Add task")]),this.$route.params.id&&0!==this.temp.step?s("button",{staticClass:"button todo__list__actions__button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.discardNoteChange(e)}}},[t._v("Discard")]):t._e(),this.$route.params.id&&this.temp.step!==this.temp.data.length-1?s("button",{staticClass:"button todo__list__actions__button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.applyNoteChange(e)}}},[t._v("Apply")]):t._e()])])]),s("div",{staticClass:"form__footer"},[s("button",{staticClass:"button button--success",attrs:{type:"submit"}},[t._v("Save")]),s("button",{staticClass:"button button--error",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.noteCancel(e)}}},[t._v("Cancel")]),this.$route.params.id?s("button",{staticClass:"button button--error",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.noteSendToRemove(e)}}},[t._v("Delete note")]):t._e()])])])])},J=[],P=(s("4de4"),s("c740"),s("4160"),s("a434"),s("159b"),{data:function(){return{buffer:{},temp:{step:0,data:[]},action:null,changes:0}},props:{result:Boolean},watch:{result:{handler:function(t){"remove"==this.action?this.removeNote():this.exit()}},note:{handler:function(t){this.temp.data[this.temp.step]=JSON.parse(JSON.stringify(this.note)),this.buffer=JSON.parse(JSON.stringify(this.note))}}},methods:{submitEditForm:function(){if(this.formValidate()){var t={id:(new Date).getTime(),title:this.buffer.title,tasks:this.buffer.tasks};+this.$route.params.id?(t.id=+this.$route.params.id,this.$store.dispatch("updateNote",t)):(this.$store.dispatch("createNote",t),this.$router.push({name:"edit",params:{id:t.id}})),this.action="cancel"}},addTask:function(){var t={id:(new Date).getTime(),title:"",status:!1};this.buffer.tasks.push(t),this.saveChanges(this.buffer)},formValidate:function(){var t=this,e=!!this.buffer.title;this.setStatusToInput(this.$refs.title,e);var s=!1;return this.buffer.tasks.length>0&&(this.buffer.tasks.forEach((function(e,s){t.setStatusToInput(t.$refs.taskTitle[s],!!e.title)})),s=this.buffer.tasks.filter((function(t){return!!t.title})).length===this.buffer.tasks.length),e&&s},setStatusToInput:function(t,e){t.classList=e?"success":"error"},exit:function(){this.action=null,this.$router.push("/")},noteCancel:function(){this.action="cancel",this.$emit("confirm")},saveChanges:function(t){t||(this.buffer=t=JSON.parse(JSON.stringify(this.temp.data[this.temp.step])));var e=this.temp.data.length-this.temp.step;this.temp.step<this.temp.data.length-1&&this.temp.data.splice(this.temp.step+1,e),this.temp.step++,this.temp.data[this.temp.step]=JSON.parse(JSON.stringify(t))},discardNoteChange:function(){this.temp.step--,this.buffer=JSON.parse(JSON.stringify(this.temp.data[this.temp.step]))},applyNoteChange:function(){this.temp.step++,this.buffer=JSON.parse(JSON.stringify(this.temp.data[this.temp.step]))},noteSendToRemove:function(){this.action="remove",this.$emit("confirm")},removeNote:function(){this.$store.dispatch("removeNote",this.id),this.exit()},removeTask:function(t){var e=this.buffer.tasks.findIndex((function(e){return e.id===t}));this.buffer.tasks.splice(e,1),this.saveChanges(this.buffer)},changeTaskStatus:function(t){var e=this.buffer.tasks.findIndex((function(e){return e.id===t})),s=this.buffer.tasks[e];s.status=!s.status,this.buffer.tasks.splice(e,1,s),this.saveChanges(this.buffer)}},computed:{noteAction:function(){return+this.$route.params.id?"Edit":"Create new"},note:function(){return+this.$route.params.id?this.$store.getters.noteById(+this.$route.params.id):{id:0,title:"",tasks:[]}}},created:function(){this.temp.data[this.temp.step]=JSON.parse(JSON.stringify(this.note)),this.buffer=JSON.parse(JSON.stringify(this.note))},mounted:function(){this.action="cancel"},beforeRouteLeave:function(t,e,s){this.action?this.noteCancel():s()}}),D=P,I=(s("be6d"),Object(l["a"])(D,x,J,!1,null,"40703ed8",null)),E=I.exports;n["a"].use(O["a"]);var A=[{path:"/",name:"dashboard",component:T},{path:"/edit/:id?",name:"edit",component:E}],R=new O["a"]({mode:"history",base:"/nextpage/",routes:A}),M=R,B=(s("a4d3"),s("99af"),s("7db0"),s("e439"),s("dbb4"),s("b64b"),s("ade3")),F=s("2f62");function L(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function V(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?L(Object(s),!0).forEach((function(e){Object(B["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):L(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}n["a"].use(F["a"]);var q=new F["a"].Store({state:{notes:JSON.parse(localStorage.getItem("notes")||"[]")},mutations:{addNote:function(t,e){t.notes.push(e),localStorage.setItem("notes",JSON.stringify(t.notes))},saveNote:function(t,e){var s=e.id,n=e.title,i=e.tasks,o=t.notes.concat(),a=o.findIndex((function(t){return t.id===s})),r=o[a];o[a]=V({},r,{title:n,tasks:i}),t.notes=o,localStorage.setItem("notes",JSON.stringify(t.notes))},deleteNote:function(t,e){var s=t.notes.findIndex((function(t){return t.id===e}));t.notes.splice(s,1),localStorage.setItem("notes",JSON.stringify(t.notes))}},actions:{createNote:function(t,e){var s=t.commit;s("addNote",e)},updateNote:function(t,e){var s=t.commit;s("saveNote",e)},removeNote:function(t,e){var s=t.commit;s("deleteNote",e)}},getters:{notes:function(t){return t.notes},noteById:function(t){return function(e){return t.notes.find((function(t){return t.id===e}))}}}});n["a"].config.productionTip=!1,new n["a"]({router:M,store:q,render:function(t){return t(k)}}).$mount("#app")},"8d63":function(t,e,s){},be6d:function(t,e,s){"use strict";var n=s("f2e3"),i=s.n(n);i.a},c5f0:function(t,e,s){"use strict";var n=s("2f98"),i=s.n(n);i.a},cf25:function(t,e,s){"use strict";var n=s("fea6"),i=s.n(n);i.a},d881:function(t,e,s){"use strict";var n=s("8d63"),i=s.n(n);i.a},f2e3:function(t,e,s){},fea6:function(t,e,s){}});
//# sourceMappingURL=app.77d63e4b.js.map